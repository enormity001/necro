auto.waitFor(),images.requestScreenCapture(),sleep(300);var storage=storages.create("pref"),sell=require("\u5356\u88C5\u5907.js"),xoff=leftBlack()-246,flag=!0,partflag=!0,rebattleflag=!0,speedflag=!0,speedtype=2,autotype=1,autoflag1=!0,autoflag=!0,autotype1=storage.get("autotype2",1),parttype=storage.get("partflag2",!1),teamtype=storage.get("teamtype4",0),teamtype1=storage.get("teamtype3",0),teamflag=storage.get("teamflag",!1),teamflag1=storage.get("teamflag",!1),recoverflag=storage.get("recoverflag5",!1),teamregion=[269+xoff,166,16,16],teamx=43,autoticket=storage.get("autoticket",!1),helpflag=storage.get("helpflag2",!1),helptype=storage.get("forhelp2",0),difficulty=storage.get("difficulty",2),bosstype=storage.get("bosstype",0),stuckorloseflag=storage.get("stuckorloseflag",!1),time1=new Date,timeflag=storage.get("timeflag5",!1),timelimit1=1e3*(60*(60*parseInt(storage.get("hour5",0))+parseInt(storage.get("minute5",0)))),timelimit2=1e3*(60*(60*parseInt(storage.get("hour6",0))+parseInt(storage.get("minute6",0))));threads.start(function(){for(sleep(111);;){var b=images.read("./reline.jpg");if(flag){flag=!1;try{var d=images.findImageInRegion(captureScreen(),b,1442+xoff,710,87,41)}catch(h){continue}flag=!0}if(b.recycle(),!d)log("not found reline"),d=null;else{log(d),click(d.x,d.y),log("open reline"),d=null,sleep(2e3);var e=images.read("./error.jpg");if(flag){flag=!1;var f=images.findImageInRegion(captureScreen(),e,1105+xoff,517,56,56);flag=!0}if(e.recycle(),!f)log("not found error");else{for(log(f),click(f.x,f.y),log("click error");;){if(flag){flag=!1;try{var g=images.detectsColor(captureScreen(),"#7ae6f4",2094+xoff,78,thresholdd=15)}catch(h){flag=!0;continue}flag=!0}if(!g)click(1112+xoff,512),sleep(2e3);else break}engines.execSciptFile("./\u5DE5\u4F1A\u5F00\u8F66.js"),exit()}}sleep(9999)}}),timeflag&&threads.start(function(){setInterval(function(){new Date-time1>timelimit1&&exit()},6e4)});start:for(;;){var questImg=images.read("./quest.jpg");if(flag){flag=!1;try{var quest=images.findImageInRegion(captureScreen(),questImg,1869+xoff,972,137,65)}catch(b){flag=!0;continue}flag=!0}if(questImg.recycle(),!quest){log("not found quest"),back(),sleep(1500);continue}else log(quest),click(quest.x,quest.y),quest=null,log("open quest");for(sleep(1500),sleep(1e3),click(1927+xoff,863),sleep(3e3);;){if(flag){flag=!1;var muti=images.findColorInRegion(captureScreen(),"#ffcf3f",1862+xoff,894,6,6,threshold=10);flag=!0}if(!muti)log("not found muti");else{log(muti),click(muti.x,muti.y),muti=null,log("open muti");break}sleep(1500)}switch(sleep(1e3),bosstype){case 0:break;case 1:break;case 2:click(1290+xoff,290);break;case 3:click(1590+xoff,290);break;case 4:click(1850+xoff,290);break;case 5:click(2020+xoff,290);}sleep(1e3);re:for(;;){switch(difficulty){case 0:if(flag){flag=!1;var boss=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#9955cc"]]);flag=!0}break;case 1:if(flag){flag=!1;var boss=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#dd6622"]]);flag=!0}break;case 2:if(flag){flag=!1;var boss=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#33aabb"]]);flag=!0}}if(!boss)log("not found boss"),click(1831+xoff,215);else{log(boss),click(boss.x,boss.y),boss=null,log("open boss");var onbattle=threads.disposable(),onbattlethread=threads.start(function(){for(var b=new Date;5e3>new Date-b;){if(flag){flag=!1;var d=images.findMultiColors(captureScreen(),"#ffffff",[[-643,99,"#88dddd"],[-646,-473,"#88dddd"],[742,-471,"#88dddd"],[742,97,"#88dddd"]],{region:[1126+xoff,704,163,48]});flag=!0}d&&(ticketoffthread.interrupt(),guildbattlethread.interrupt(),log("\u95E8\u7968\u548Cbattle\u7EBF\u7A0B\u7ED3\u675F"),onbattle.setAndNotify("back"),onbattlethread.interrupt(),log("onbattle\u7EBF\u7A0B\u7ED3\u675F1")),sleep(500)}log("onbattle\u7EBF\u7A0B\u7ED3\u675F1")}),ticketoffthread=threads.start(function(){for(var b=new Date;5e3>new Date-b;){if(flag){flag=!1;var d=images.findMultiColors(captureScreen(),"#ffffff",[[-190,-239,"#ff5533"],[-408,-133,"#ff5533"]]);flag=!0}if(!d)log("ticket enough");else if(onbattlethread.interrupt(),guildbattlethread.interrupt(),log("onbattle\u548Cguildbattle\u7EBF\u7A0B\u7ED3\u675F"),autoticket){for(click(d.x,d.y),sleep(1e3),click(1745+xoff,355),sleep(3e3),normalbattleprc(partflag,parttype,speedflag,speedtype,autoflag,autotype,teamflag,teamtype,recoverflag,rebattleflag),sleep(1e3);;){if(flag){flag=!1;var e=images.findMultiColors(captureScreen(),"#ffffff",[[-24,-17,"#9955cc"]]);flag=!0}if(e){e=null;break}else sleep(100)}for(back(),sleep(1500);;){if(flag){flag=!1;var f=images.findColorInRegion(captureScreen(),"#ffcf3f",1862+xoff,894,6,6);flag=!0}if(!f)log("not found muti");else{log(f),click(f.x,f.y),f=null,log("open muti");break}sleep(1500)}switch(sleep(1e3),bosstype){case 0:break;case 1:break;case 2:click(1290+xoff,290);break;case 3:click(1590+xoff,290);break;case 4:click(1850+xoff,290);}onbattle.setAndNotify("re"),ticketoffthread.interrupt(),log("\u95E8\u7968\u7EBF\u7A0B\u7ED3\u675F1")}else back(),sleep(1e3),click(2100+xoff,50),exit();sleep(499)}log("\u95E8\u7968\u7EBF\u7A0B\u7ED3\u675F1")}),guildbattlethread=threads.start(function(){for(;;){if(flag){flag=!1;var b=images.findColorInRegion(captureScreen(),"#ffffcc",1805+xoff,238,10,6);flag=!0}if(!b)log("not found simple");else{if(log("found simple"),b=null,onbattlethread.interrupt(),ticketoffthread.interrupt(),log("onbattle\u548C\u95E8\u7968\u7EBF\u7A0B\u7ED3\u675F"),teamflag1){if(global.teamflag1=!1,teamflag1=!1,flag){for(flag=!1;!images.findColorInRegion(captureScreen(),"#ffffff",teamregion[0]+teamx*teamtype1,teamregion[1],teamregion[2],teamregion[3]);)click(258+xoff,582),sleep(500);flag=!0}log("\u961F\u4F0D\u8BBE\u7F6E\u6210\u529F")}click(1873+xoff,997),log("open battle");break}sleep(1500)}var d=!1;if(stuckorloseflag)var e=threads.start(function(){for(sleep(30999),log("\u5361\u6B7B\u68C0\u6D4B\u5F00\u59CB");;){if(flag){flag=!1;var k=captureScreen(),l=images.clip(k,1173,42,157,22);flag=!0}if(!l)continue;else if(log("boss hp clipped down"),log("waitting...."),sleep(14003),flag){if(flag=!1,images.findImageInRegion(captureScreen(),l,1173+xoff,42,157,22,0.9)){for(l.recycle(),f.interrupt(),d=!0,sleep(500),log("get stuck"),log("\u5173\u95ED\u56E2\u706D\u68C0\u6D4B");!click(2066+xoff,90););for(var m=new Date;!(3500<new Date-m);)if(images.detectsColor(captureScreen(),"#85dee1",1494+xoff,828,threshold=15)){for(;!click(1606+xoff,846););for(sleep(1500);!click(1375+xoff,721););log("\u5361\u6B7B\u5DF2\u9000\u51FA"),sleep(500),d=!1,flag=!0,e.interrupt()}else sleep(297)}flag=!0}log("not stuck"),sleep(3197)}}),f=threads.start(function(){for(sleep(20009);;){if(flag){flag=!1;var k=images.findMultiColors(captureScreen(),"#ffffff",[[306,-2,"#ffffff"],[479,5,"#ffffff"],[-425,-185,"#88dddd"],[963,-185,"#88dddd"]]);flag=!0}if(k){for(k=null,d=!0,log("\u5DF2\u56E2\u706D"),sleep(500);!click(1350+xoff,734););log("\u518D\u6218"),sleep(500),d=!1}else log("\u672A\u56E2\u706D");sleep(8307)}});for(sleep(4e3);;){for(;;){if(flag){flag=!1;var g=images.findMultiColors(captureScreen(),"#ffffff",[[-68,96,"#598ad9"],[-42,135,"#60c160"]],{threshold:15});flag=!0}if(!g)log("not found esc"),click(345+xoff,353);else{log(g),g=null,log("have found esc");break}sleep(1e3)}if(autoflag1){switch(autotype1){case 0:var h=images.read("./still.jpg");click(1786+xoff,68),sleep(200);break;case 1:var h=images.read("./autoskill.jpg");global.autoflag1=!1,autoflag1=!1;}if(flag){for(flag=!1;!images.findImageInRegion(captureScreen(),h,1700+xoff,50,153,36);)click(1786+xoff,68),sleep(500);flag=!0}h.recycle(),log("\u4EBA\u7269\u72B6\u6001\u8BBE\u7F6E\u5B8C\u6210")}for(helpflag&&(click(2128+xoff,308),sleep(700),0===helptype?click(2098+xoff,334):1===helptype?click(2098+xoff,469):2===helptype?click(2098+xoff,625):void 0),sleep(1e3);;){if(flag){flag=!1;var g=images.findMultiColors(captureScreen(),"#ffffff",[[-68,96,"#598ad9"],[-42,135,"#60c160"]],{threshold:15});flag=!0}if(!g){if(stuckorloseflag&&(e.interrupt(),f.interrupt(),log("\u5361\u6B7B\u548C\u5931\u8D25\u68C0\u6D4B\u7EBF\u7A0B\u7ED3\u675F")),log("raid \u7ED3\u675F"),g=null,flag){flag=!1;var i=images.findMultiColors(captureScreen(),"#ffffff",[[-174,24,"#ff6840"],[208,17,"#ff6840"],[-449,-160,"#ff5533"],[454,-154,"#ff5533"],[-681,-534,"#88dddd"],[706,-536,"#88dddd"]]);flag=!0}if(i){for(log(i),click(i.x,i.y),sleep(3e3),click(2043+xoff,68),sleep(3e3);!sell(););onbattle.setAndNotify("start"),guildbattlethread.interrupt(),log("guild\u7EBF\u7A0B\u7ED3\u675F")}switch(difficulty){case 0:if(flag){flag=!1;var j=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#9955cc"]]);flag=!0}break;case 1:if(flag){flag=!1;var j=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#dd6622"]]);flag=!0}break;case 2:if(flag){flag=!1;var j=images.findMultiColors(captureScreen(),"#ffffcc",[[-33,-25,"#33aabb"]]);flag=!0}}j?(j=null,onbattlethread.setAndNotify("re"),guildbattlethread.interrupt(),log("guild\u7EBF\u7A0B\u7ED3\u675F")):(log("not found boss2"),!d&&(press(1831+xoff,215,1),press(2075+xoff,347,1)))}else log("raid \u672A\u7ED3\u675F");sleep(1001)}}});if("back"==onbattle.blockedGet())log("\u5F00\u50AC\u4E2D"),click(1250+xoff,738),continueraid(),engines.execScriptFile("./\u5DE5\u4F1A\u5F00\u8F66"),exit();else if("re"==onbattle.blockedGet())continue re;else if("start"==onbattle.blockedGet())continue start}sleep(1e3)}}function normalbattleprc(b,d,e,f,g,h,i,j,k,l){var m=new Date;re:for(;;){if(flag){flag=!1;var n=images.findColorInRegion(captureScreen(),"#ffffcc",1805+xoff,238,10,6);flag=!0}if(!n)log("not found simple"),click(409+xoff,227);else{if(log("found simple"),n=null,i){if(global.teamflag=!1,i=!1,flag){for(flag=!1;!images.findColorInRegion(captureScreen(),"#ffffff",teamregion[0]+teamx*j,teamregion[1],teamregion[2],teamregion[3]);)click(258+xoff,582),sleep(500);flag=!0}log("\u961F\u4F0D\u8BBE\u7F6E\u6210\u529F")}if(e){if(global.speedflag=!1,e=!1,flag){switch(flag=!1,f){case 0:for(;!images.detectsColor(captureScreen(),"#ffffff",1489+xoff,1009,threshold=20);)click(1371+xoff,964),sleep(400);log("\u8C03\u901F\u4E3A1x");break;case 1:for(;!images.detectsColor(captureScreen(),"#e85533",1570+xoff,1017,threshold=20);)click(1371+xoff,964),sleep(400);log("\u8C03\u901F\u4E3A2x");break;case 2:for(;!images.detectsColor(captureScreen(),"#f85533",1558+xoff,1014,threshold=20);)click(1371+xoff,964),sleep(400);log("\u8C03\u901F\u4E3A3x");break;default:for(;!images.detectsColor(captureScreen(),"#f85533",1558+xoff,1014,threshold=20);)click(1371+xoff,964),sleep(400);log("\u8C03\u901F\u4E3A3x");}flag=!0}log("\u8C03\u901F\u6210\u529F")}click(1873+xoff,997),log("open battle");var o=threads.disposable(),p=threads.start(function(){for(var u=new Date;5e3>new Date-u;){if(flag){flag=!1;var v=images.detectsColor(captureScreen(),"#ff5533",1609+xoff,137);flag=!0}if(!v)log("ap enough");else if(k){for(log(v),v=null,click(1639+xoff,592),log("clicked use");;){if(flag){flag=!1;var w=images.detectsColor(captureScreen(),"#ff5533",1255+xoff,818,threshold=16);flag=!0}if(!w)5e3<new Date-u&&(log("\u836F\u5403\u5B8C\u7ED3\u675F\u811A\u672C"),exit());else{w=null;break}sleep(199)}click(1759+xoff,530),sleep(700),log("clicked max"),click(1442+xoff,838),log("clicked recover"),o.setAndNotify("re"),p.interrupt()}else back(),sleep(500),back(),exit();sleep(500)}o.setAndNotify("null")});if("re"==o.blockedGet())for(;;){if(flag){flag=!1;var n=images.findColorInRegion(captureScreen(),"#ffffcc",1805+xoff,238,10,6);flag=!0}if(n){n=null,click(1873+xoff,997),log("\u5403\u836F\u6210\u529F\uFF0C\u518D\u6B21\u5F00\u59CB"),sleep(400);break}sleep(500)}for(;;){if(flag){flag=!1;var q=images.findMultiColors(captureScreen(),"#ffffff",[[-68,96,"#598ad9"],[-42,135,"#60c160"]],{threshold:15});flag=!0}if(!q)log("not found esc"),click(345+xoff,353);else{if(log(q),q=null,log("found esc"),g){switch(global.autoflag=!1,g=!1,h){case 0:var r=images.read("./still.jpg");break;case 1:var r=images.read("./autoskill.jpg");}if(flag){for(flag=!1;!images.findImageInRegion(captureScreen(),r,1700+xoff,50,153,36);)click(1786+xoff,68),sleep(500);flag=!0}r.recycle(),log("\u4EBA\u7269\u72B6\u6001\u8BBE\u7F6E\u5B8C\u6210")}for(sleep(3e3);;){var s=images.read("./next.jpg");if(flag){flag=!1;var t=images.findImageInRegion(captureScreen(),s,1404+xoff,991,38,38);flag=!0}if(s.recycle(),!t)log("not found next"),stuckorlose||(press(1790+xoff,186,1),press(1818+xoff,186,1));else{if(log("found next"),b){if(sleep(100),d){if(flag){for(flag=!1;!images.detectsColor(captureScreen(),"#88dddd",647+xoff,1037);)click(699+xoff,978),sleep(100);flag=!0}log("\u52A9\u6218\u5F00\u542F")}else{if(flag){for(flag=!1;!images.detectsColor(captureScreen(),"#666666",598+xoff,1037);)click(699+xoff,978),sleep(100);flag=!0}log("\u52A9\u6218\u5173\u95ED")}global.partflag=!1,b=!1}if(new Date-m>timelimit2){click(t.x,t.y);break re}if(l)log("rebattle"),click(996+xoff,1009);else{log("next"),click(t.x,t.y),t=null;break re}continue re}sleep(1e3)}}sleep(1e3)}}sleep(1e3)}}function leftBlack(){var b=images.captureScreen(),d=b.height,e=0,f=d/2;if(1920==b.width)return 0;for(;e<b.width-1;){if(b.pixel(e,f)!=b.pixel(e+1,f))return 0==e?e:e+1;e++}return e+1}function continueraid(){for(;;){if(flag){flag=!1;var b=images.findColorInRegion(captureScreen(),"#55bbcc",2036+xoff,248,5,5);flag=!0}if(!b){var d=images.fromBase64("iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABHNCSVQICAgIfAhkiAAABS9JREFUSImdlVtsVFUUhr+zz5k57TADHab3K6WUIiIgGIViohjRSFBMvEaJqMCDYqI8AIag8qBoorxgggkJxvCA0QR9kZCYgCngBVsuIqRQuXSope303rl0zpzL9mGGMz0VTHC97Z211r/Xv9b6tyKEkFJKpJRMtLBfZf/99ayqmAaA4UjahpIsKw66Po6EjkSaZUcvYUnJznlVbJxVAoDpSFr64zx27C8EtzFdCJZGprjnkYzFa62d7LhwwwWIpgw2ne1i1LRpDOqsn1ns+sctm10dfUhAEwqU6D4E+Uo0RWFxOEDErwFgS0lP2iRlOxy4PkRAEywvCfHWmS7+GEkR0gTvzilHFwoAElAVhaerilhdWYRSHyyQ7Y/PdR3uxGKGxaMtHTQEdQ4ubeB2KcSicOB/ATgS+g0TW0r2LKq9LQCAaJ7A+51YxnHoiBt8fm8tFQW+//TV+tImX3UO5lEVqCn0s7w05L64ezzDkVjcE6gq0BgsYMmER46ZNu9fuMHFeBqAiF/ji0W1aJ91xNCFQmWBxpWEwRRN8HZjqQuSdhy+6Rpm87m/CftV1tZF+LJzkIdLQhxsnjmpOsmx/gRnRlLoQuGpyiKm+lS056vDfDC3nGtJg5XHL+MXCksj+V0wbMmvgwmKfCq7F9byQk2YNXURKgp8aIq3ERIwc/sW0AQv1U7P0vX1AzPc0hYWBehLm579yDgOf46Os2l2GWvqskGLw4Fbci/JLqFQoLzAx8rcIrvLWKgKnqycRlOowN0PS0r6DIvna6bz/twKN1HadrAmKQSAkutVQBWsrYvgz42cC6ILhSfKp9FcnK9CoFBd6OPDeZUuQF/a5NXWTq4mDIYzNt90Def9FSjWNeoCOm/m5MWSMg+Sdhxah5I8XBJyg1J2tumDGQuAAcPi9dYoP/aN8dtQkg2norT056dOoDAjoLO5qYyQpgIQNx1E23CKsyMpnvnlKqaUrCib6gYlLZud7b2sOnGZsyMpNrRFOdw7ypjpsPVcN4d6RknZjuvvFwrLS0O8nOtdxpEcH4ijLCkOymjCYOucct5uLHUDLCk5OZjkwZ8uoZAVOdPx9sEvFFZWTOP75gb3zpG429+XNrMq3D6WZttdXoCbrzg5lGROqIDvmht4sWY6k82WEE1mPHc3AZKWw96rA5wbHUfbNb+KdfXF/0qgALUBPyceaSLi13ioJIThOHw7odG2lPQZJoYjPfpnSUnbcJKP2nuywOvqi935nmiFquDZ6rA7zmG/yu6FNR4ZAbAcSVfKW02/YbHxdBdGLqeYWNrEl1yKpz2TA9l/Z+/iOkr1LHBAFaypi9AQ1L2UAUnbzp/jls0nF3vpSZvuZcaR/NAzyvq2KFeTRp5CBab6VBqCOgFV8EZDCZ/Or2ayyk/RVF6pi+RBvrw2yJ4rMQ8Nhi35eSBBNJXhzdPXsaTEkpLfh5KsaOmgfSzNrgXVfLag+pb/SEAVvFgz3e2TeiSW2BHSVD6+p4qAmt3NMdNm+/kbjJk2sbSFTyh0j5u8fLKTqkI/B5bUs7qqyE3qyOyfrufiFSWrIDHD4tRwKiukd0/16tXlhEFvjr64ZfPe+RuU6Bpbmsp4Z3aZZ5LGbYevrw+x79ogx5bPRs0pc8insqWpnEM9o2ibGkt5rjrsoer4QGICv4K3ZpWytamcsF/10JK0HHZfjrH9fDdFPo2jsbirGDdXYN99MxCf3FPlke6043C4d9Q9a4pCY1D/F0Dcstl+vpttf3bjyKwE7Y8OMtk0ofAP82Y2pQzz9G4AAAAASUVORK5CYII=");if(flag){flag=!1;try{var e=images.findImageInRegion(captureScreen(),d,1187+xoff,261,36,34)}catch(s){flag=!0;continue}flag=!0}if(d.recycle(),!e)log("not found help"),back();else{log(e),click(e.x,e.y),e=void 0,log("open help");break}}else{b=void 0;break}sleep(2e3)}for(;;){for(;;){if(flag){flag=!1;var f=images.findColorInRegion(captureScreen(),"#55bbcc",2036+xoff,248,5,5);flag=!0}if(!f)log("not  found refresh and wait");else{click(f.x,f.y),f=void 0,log("has found refresh");break}sleep(1500)}for(;;){if(flag){flag=!1;var g=images.findColorInRegion(captureScreen(),"#666666",2036+xoff,248,5,5);flag=!0}if(!g)log("not  found grefresh and wait");else{g=void 0,log("has found grefresh");break}sleep(20)}if(flag){flag=!1;var h=images.findMultiColors(captureScreen(),"#ff5533",[[81,2,"#ffffcc"],[163,1,"#ff5533"]]);flag=!0}if(h){log("fonud onattend"),click(h.x+20,h.y+20),h=void 0;c:for(;;){if(flag){flag=!1;var i=images.findColorInRegion(captureScreen(),"#ffffcc",1805+xoff,238,10,6);flag=!0}if(!i)log("not found simple");else{log("found simple"),i=void 0,click(1873+xoff,997),log("open battle");var j=threads.disposable(),k=threads.start(function(){for(var s=new Date;5e3>new Date-s;){if(flag){flag=!1;var t=images.detectsColor(captureScreen(),"#ff5533",1609+xoff,137);flag=!0}if(!t)log("ap enough");else{for(bugthread.interrupt(),teninthread.interrupt(),log(t),t=void 0,click(1639+xoff,592),log("clicked use");;){if(flag){flag=!1;var u=images.detectsColor(captureScreen(),"#ff5533",1255+xoff,818,threshold=16);flag=!0}if(!u)5e3<new Date-s&&(log("\u836F\u5403\u5B8C\u7ED3\u675F\u811A\u672C"),exit());else{u=void 0;break}sleep(109)}click(1759+xoff,530),log("clicked max"),click(1442+xoff,838),log("clicked recover"),j.setAndNotify("re"),log("\u5403\u836F\u7EBF\u7A0B\u7ED3\u675F1"),k.interrupt()}sleep(497)}j.setAndNotify("undefined"),log("\u5403\u836F\u7EBF\u7A0B\u7ED3\u675F2")});if("re"==j.blockedGet()){log("\u6536\u5230\u518D\u6B21\u6218\u6597\u4FE1\u606F");continue c}var l=!1;if(stuckorloseflag)var m=threads.start(function(){for(sleep(30999),log("\u5361\u6B7B\u68C0\u6D4B\u5F00\u59CB");;){if(flag){flag=!1;var s=captureScreen(),t=images.clip(s,1173,42,157,22);flag=!0}if(!t)continue;else if(log("boss hp clipped down"),log("waitting...."),sleep(18003),flag){if(flag=!1,images.findImageInRegion(captureScreen(),t,1173+xoff,42,157,22,0.9)){for(t.recycle(),n.interrupt(),l=!0,sleep(500),log("get stuck"),log("\u5173\u95ED\u56E2\u706D\u68C0\u6D4B");!click(2066+xoff,90););for(var u=new Date;!(3500<new Date-u);)if(images.detectsColor(captureScreen(),"#85dee1",1494+xoff,828,threshold=15)){for(;!click(1606+xoff,846););for(sleep(1500);!click(1375+xoff,721););log("\u5361\u6B7B\u5DF2\u9000\u51FA"),sleep(500),l=!1,flag=!0,m.interrupt()}else sleep(297)}flag=!0}log("not stuck"),sleep(3197)}}),n=threads.start(function(){for(sleep(20009);;){if(flag){flag=!1;var s=images.findMultiColors(captureScreen(),"#ffffff",[[306,-2,"#ffffff"],[479,5,"#ffffff"],[-425,-185,"#88dddd"],[963,-185,"#88dddd"]]);flag=!0}if(s){for(s=null,l=!0,log("\u5DF2\u56E2\u706D"),sleep(500);!click(1350+xoff,734););log("\u518D\u6218"),sleep(500),l=!1}else log("\u672A\u56E2\u706D");sleep(8307)}});for(;;){if(flag){flag=!1;var o=images.findMultiColors(captureScreen(),"#ffffff",[[-68,96,"#598ad9"],[-42,135,"#60c160"]],{threshold:15});flag=!0}if(!o)log("not found esc"),click(345+xoff,353);else{log(o),o=null,log("have found esc");break}sleep(1e3)}var p,p;var p=images.read("./autoskill.jpg");global.autoflag1=!1,autoflag1=!1;if(flag){for(flag=!1;!images.findImageInRegion(captureScreen(),p,1700+xoff,50,153,36);)click(1786+xoff,68),sleep(500);flag=!0}if(p.recycle(),log("\u4EBA\u7269\u72B6\u6001\u8BBE\u7F6E\u5B8C\u6210"),helpflag){if(flag){flag=!1;var q=images.findMultiColors(captureScreen(),"#ff5533",[[-50,-14,"#ff5533"],[-30,-123,"#c5c577"]]);flag=!0}q?(log(q),log("have found rescue"),click(q.x,q.y),q=null,sleep(300),0===helptype?click(2098+xoff,334):1===helptype?click(2098+xoff,469):2===helptype?click(2098+xoff,625):void 0):(log("not found rescue"),click(345+xoff,353)),sleep(1e3)}for(sleep(1e3);;){if(flag){flag=!1;var o=images.findMultiColors(captureScreen(),"#ffffff",[[-68,96,"#598ad9"],[-42,135,"#60c160"]],{threshold:15});flag=!0}if(!o){for(o=null,log("raid\u7ED3\u675F"),stuckorloseflag&&(m.interrupt(),n.interrupt(),log("\u5361\u6B7B\u548C\u5931\u8D25\u68C0\u6D4B\u7EBF\u7A0B\u7ED3\u675F"));;){if(flag){flag=!1;var r=images.findMultiColors(captureScreen(),"#ffffff",[[-174,24,"#ff6840"],[208,17,"#ff6840"],[-449,-160,"#ff5533"],[454,-154,"#ff5533"],[-681,-534,"#88dddd"],[706,-536,"#88dddd"]]);flag=!0}if(r){for(log(r),click(r.x,r.y),sleep(3e3),click(2043+xoff,68),sleep(3e3);!sell(););return}if(flag){flag=!1;var f=images.findColorInRegion(captureScreen(),"#55bbcc",2036+xoff,248,5,5);flag=!0}if(!f)log("not  found refresh and wait"),click(2103+xoff,865);else{log("has found refresh");break}sleep(1500)}return}log("raid \u672A\u7ED3\u675F"),sleep(1001)}}sleep(400)}}else{log("out of time");break}}}
